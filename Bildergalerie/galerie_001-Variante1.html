<!DOCTYPE html>
<html lang="de-CH">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home | Männerchor Wigoltingen</title>
    <link
      rel="shortcut icon"
      href="../img/favicon/favicon.ico"
      type="img/favicon"
    />
    <link rel="stylesheet" href="../css/index.css" />
  </head>

  <body>
    <style>
      /* Header Breite bestimmen und zentrieren */
      header {
        width: 92%;
        margin: auto;
      }
    </style>
    <header class="ma10-top">
      <table>
        <tr>
          <td
            width="33%"
            class="text-55 text-left font-weigth-200 text-graymc ma40-left"
          >
            Männerchor
          </td>
          <td class="text-center">
            <div class="topnav text-center">
              <a class="active" href="/">Home</a>
              <a href="galerie_001.html">Galerie 001</a>
              <a href="#contact">Agenda</a>
              <a href="#about">Verein</a>
              <a href="#about">Repertoire</a>
            </div>
          </td>
        </tr>
      </table>
      <table>
        <tr>
          <td width="33%" class="text-55 text-left font-weigth-200 text-graymc">
            Wigoltingen
          </td>
          <td
            width="33%"
            class="text-50 text-right font-weigth-200 text-graymc"
          >
            HOME
          </td>
        </tr>
      </table>
    </header>
    <style>
      /* GLOBAL einstellen : */
      *{
        /* https://www.mediaevent.de/css/dimension.html */
        box-sizing:border-box;
      }

       /* Header Breite bestimmen und zentrieren */
      main {
        display: flex;
        width: 92%;
        margin: auto;
      }
      /* a - Elemente Nebeneinander darstellen */
      .gallery {
        float: left;
      }
      @media screen and (min-width:0px) and (max-width:599px) {
        .gallery {
          width: 90%;
          padding: 10px;
        }
      }
      @media screen and (min-width:600px) and (max-width:1099px) {
        .gallery {
          width: 80%;
          padding: 10px;
          min-width: 150px;
        }
      }
      @media screen and (min-width:1100px) {
        .gallery {
          width: 93%;
          padding: 10px;
          min-width: 150px;
        }
      }

      /* Bilder - Grösse definieren */
      .gallery img {
        position: relative;
        width: 100%;
        
        aspect-ratio: 1 / 1;
        object-fit: cover;
        -webkit-box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.5);
        box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.5);
      }
      /* Hover - Effekt */
      .gallery img:hover{
        transform: scale(1.05);
      }
    </style>
     <main class="ma10pr-left ma10-top "  >

        

      <div class="gallery pa10 ma10pr-right" id="imageGallery"></div>

<div class="fullscreen" id="fullscreenContainer">
  <div class="close ">&#10005;</div>
  <div class="arrow left ">&lt;</div>
  <img id="fullscreenImage" alt="">
  <div class="arrow right ">&gt;</div>
</div>

<script>
  // Verzeichnis und Dateiformat anpassen
  const verzeichnis = "../img/Hintergrund";
  const dateiformat = ".jpg";

  // Bilder und Bildinformationen
  let bilder = [];
  let aktuellesBildIndex = 0;

  // Funktion zum Abrufen aller Dateinamen im Verzeichnis
  function getAlleBilderImVerzeichnis() {
    const galerie = document.getElementById("imageGallery");

    fetch(verzeichnis)
      .then(response => response.text())
      .then(data => {
        const parser = new DOMParser();
        const html = parser.parseFromString(data, "text/html");
        const bildElemente = html.querySelectorAll('a[href$="' + dateiformat + '"]');
        bilder = Array.from(bildElemente).map(bild => {
          return {
            src: verzeichnis + "\\" + bild.getAttribute("href"),
            alt: bild.getAttribute("href")
          };
        });

        bilder.forEach((bild, index) => {
          const img = document.createElement("img");
          img.src = bild.src;
          img.alt = bild.alt;
          img.addEventListener("click", () => zeigeBildFullscreen(index));
          galerie.appendChild(img);
        });
      });
  }

  // Funktion zum Anzeigen des Bildes im Vollbildmodus
  function zeigeBildFullscreen(index) {
    const fullscreenContainer = document.getElementById("fullscreenContainer");
    const fullscreenImage = document.getElementById("fullscreenImage");
    aktuellesBildIndex = index;

    fullscreenImage.src = bilder[index].src;
    fullscreenImage.alt = bilder[index].alt;
    fullscreenContainer.style.display = "flex";

    document.addEventListener("keydown", handleKeyDown);
  }

  // Funktion zum Wechseln der Bilder mit den Pfeiltasten im Vollbildmodus
  function handleKeyDown(event) {
    if (event.key === "ArrowLeft") {
      wechsleBild(-1);
    } else if (event.key === "ArrowRight") {
      wechsleBild(1);
    } else if (event.key === "Escape") {
      verlasseVollbild();
    }
  }

  // Funktion zum Wechseln des Bildes im Vollbildmodus
  function wechsleBild(richtung) {
    aktuellesBildIndex = (aktuellesBildIndex + richtung + bilder.length) % bilder.length;
    const fullscreenImage = document.getElementById("fullscreenImage");
    fullscreenImage.src = bilder[aktuellesBildIndex].src;
    fullscreenImage.alt = bilder[aktuellesBildIndex].alt;
  }

  // Funktion zum Verlassen des Vollbildmodus
  function verlasseVollbild() {
    const fullscreenContainer = document.getElementById("fullscreenContainer");
    fullscreenContainer.style.display = "none";
    document.removeEventListener("keydown", handleKeyDown);
  }

  // Galerie initialisieren
  getAlleBilderImVerzeichnis();

  // Funktion zum Schließen des Vollbildmodus
  document.getElementById("fullscreenContainer").addEventListener("click", (event) => {
    if (event.target.classList.contains("close")) {
      verlasseVollbild();
    }
  });

  // Funktion zum Wechseln des Bildes mit den Pfeil-Symbolen
  document.querySelector(".arrow.left").addEventListener("click", () => {
    wechsleBild(-1);
  });

  document.querySelector(".arrow.right").addEventListener("click", () => {
    wechsleBild(1);
  });
</script>





  </main>
    <footer>
      <table width="100%">
        <tr>
          <td width="33%" class="text-left text-gray text-14">
            © 2023 Oliver Schweiss
          </td>
          <td class="text-center text-gray text-14">
            © 2023 Männerchor-Wigoltingen.ch
          </td>
          <td width="33%" class="text-right text-gray text-14">
            zuletzt geändert Viktor Schweiss xx. Mai 2023
          </td>
        </tr>
      </table>
    </footer>
  </body>
</html>
